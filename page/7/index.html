<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="PW&#39;s notes">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="PW&#39;s notes">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PW&#39;s notes">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/7/"/>





  <title>PW's notes</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">PW's notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/Shared Variables/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/15/Shared Variables/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T15:26:08+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Shared-Variables"><a href="#Shared-Variables" class="headerlink" title="Shared Variables"></a>Shared Variables</h1><p>#spark</p>
<p>一般来说,spark操作里的函数在集群上运行,所有函数里的变量都是分别的copy,每机器上一个,<strong>变量的更新不会传播回driver</strong>.</p>
<h3 id="广播变量"><a href="#广播变量" class="headerlink" title="广播变量"></a>广播变量</h3><p>Spark中分布式执行的代码需要传递到各个Executor的Task上运行。对于一些<strong>只读</strong>、固定的数据(比如从DB中读出的数据),每次都需要Driver广播到各个Task上，这样效率低下。广播变量允许将变量只广播（<strong>提前广播</strong>）给各个Executor。该Executor上的各个Task再从所在节点的BlockManager获取变量，而不是从Driver获取变量，从而提升了效率。</p>
<p>一个Executor只需要在第一个Task启动时，获得一份Broadcast数据，之后的Task都从本节点的BlockManager中获取相关数据。</p>
<p>需求场景可以总结为:broadcast variables is only useful when tasks across multiple stages need the same data</p>
<p>The object v should not be modified after it is broadcast in order to ensure that all nodes get the same value of the broadcast variable.(只读性)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Broadcast&lt;<span class="keyword">int</span>[]&gt; broadcastVar = sc.broadcast(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line"></span><br><span class="line">broadcastVar.value();</span><br><span class="line"><span class="comment">// returns [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h5 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h5><p>1.调用SparkContext.broadcast方法创建一个Broadcast[T]对象。任何序列化的类型都可以这么实现。<br>2.通过value属性访问改对象的值(Java之中为value()方法)<br>3.变量只会被发送到各个节点一次，应作为只读值处理（修改这个值不会影响到别的节点）</p>
<p><img src="/2017/04/15/Shared Variables/1A7808B4-59EA-4976-8363-A54C2BE1150E.png" alt=""></p>
<p>上面这个程序可以运行，但是如果表更加大（比如表中不是呼号，而是IP地址），signPrefixes很容易就会达到MB级别的大小，从主节点为每个任务发送一个这样的数据就会代价巨大。而且如果之后还要再次使用signPrefixes这个对象，则还需要向每个节点再发送一遍。</p>
<p>所以可以将signPrefixes作为广播变量来解决这个问题：<br><img src="/2017/04/15/Shared Variables/617881-d83bb94d6e4cd820.png" alt=""></p>
<hr>
<h3 id="累加器"><a href="#累加器" class="headerlink" title="累加器"></a>累加器</h3><p>首先,累加器只能在action里使用,并且可以保证每个task对累加器的更新只会被应用一次,也就是说,在transformation里,不保证这个,因为如果task重做了,累加器可能被更新多次.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LongAccumulator accum = jsc.sc().longAccumulator();</span><br><span class="line">data.map(x -&gt; &#123; accum.add(x); <span class="keyword">return</span> f(x); &#125;);</span><br><span class="line"><span class="comment">// Here, accum is still 0 because no actions have caused the `map` to be computed.</span></span><br></pre></td></tr></table></figure></p>
<p>Task可以使用add()来更新累加器,但是只有driver能读累加器的值. Spark natively supports accumulators of numeric types, and programmers can add support for new types.</p>
<p>spark UI会跟踪累加器和值和Tasks对值的改变<br><img src="/2017/04/15/Shared Variables/65965C80-7456-479A-A756-D3FB4E823136.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/10/Yarn架构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/10/Yarn架构/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-10T18:46:52+08:00">
                2017-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Yarn架构"><a href="#Yarn架构" class="headerlink" title="Yarn架构"></a>Yarn架构</h1><p>#spark</p>
<p><img src="/2017/04/10/Yarn架构/yarn_architecture.png" alt=""></p>
<p>拥有一个全局ResourceManager（RM）,而每个应用程序拥有一个ApplicationMaster.</p>
<p>ResourceManager拥有在系统中的所有应用程序之间仲裁资源的最终权力。NodeManager是负责容器的每台机器上的代理，监视机器资源使用情况（cpu，内存，磁盘，网络）并将其报告给ResourceManager.<br>ApplicationMaster实际上是一个特定的库，任务是从ResourceManager协商资源，并与NodeManager一起执行和监视任务</p>
<p>ResourceManager有两个主要组件：Scheduler和ApplicationsManager; Scheduler负责根据容量，队列等常见约束，向各种运行的应用程序分配资源,只管调度,不管监视或跟踪.Scheduler根据应用程序的资源需求执行其调度功能; 它基于container—包含诸如内存，cpu，磁盘，网络等资源的抽象概念。调度程序具有可插拔策略，负责在各种队列，应用程序等之间划分群集资源。目前的调度程序（如CapacityScheduler和FairScheduler）是插件的一些示例。</p>
<p>ApplicationsManager负责接受作业提交，协商,取得第一个容器来执行应用程序特定的ApplicationMaster，并提供在失败时重新启动ApplicationMaster容器的服务。</p>
<p>The per-application ApplicationMaster 有责任从Scheduler协商出合适的资源容器,追踪资源的状态,监控程序进度.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/10/cluster overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/10/cluster overview/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-10T15:42:12+08:00">
                2017-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="cluster-overview"><a href="#cluster-overview" class="headerlink" title="cluster overview"></a>cluster overview</h1><p>#spark</p>
<ol>
<li>Each application gets its <strong>own executor processes</strong>.on both the scheduling side (each driver schedules its own tasks) and executor side (tasks from different applications run in different JVMs). 这是有利于应用之间隔离的,也就是不能再SparkContext间共享数据的(未写入外部储存)</li>
<li>The driver program must listen for and accept incoming connections from its executors throughout its lifetime (这也是运行的机制),所以driver program要保持对worker的网络可见性</li>
<li>Because the driver schedules tasks on the cluster, it should be run close to the worker nodes, preferably on the same local area network(最好driver对集群是LAN里),这也是在说<strong>driver是schedule task的角色.</strong></li>
</ol>
<p>有一个重点是<strong>Job Scheduling</strong></p>
<h3 id="On-yarn"><a href="#On-yarn" class="headerlink" title="On yarn"></a>On yarn</h3><ol>
<li>得设置有<em>HADOOP_CONF_DIR</em>和<em>YARN_CONF_DIR</em>,这是写HDFS和连接到Yarn资源管理器的需要配置,The configuration contained in this directory will be distributed to the YARN cluster,以至于所有container都能使用相同的配置.</li>
<li>两种模式<ul>
<li>cluster: the Spark driver runs inside an <strong>application master??</strong> process which is managed by YARN on the cluster</li>
<li>client:driver progarm在client进程中运行,application master值用来向yarn请求资源</li>
</ul>
</li>
<li>—master 参数是yarn</li>
</ol>
<p>一个在cluter中运行的样例<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/spark-submit --class org.apache.spark.examples.SparkPi \</span><br><span class="line">    --master yarn \</span><br><span class="line">    --deploy-mode cluster \</span><br><span class="line">    --driver-memory 4g \</span><br><span class="line">    --executor-memory 2g \</span><br><span class="line">    --executor-cores 1 \</span><br><span class="line">    --queue thequeue \</span><br><span class="line">    lib/spark-examples*.jar \</span><br><span class="line">    10</span><br></pre></td></tr></table></figure></p>
<p>The above starts a YARN client program which starts the default Application Master. Then <strong>SparkPi will be run as a child thread of Application Master</strong>.<br>The client will periodically poll the Application Master for status updates and display them in the console</p>
<p>在cluster模式,需要别的jar包的时候,使用sparkcontext.addJar没用,因为jar不在本地,所以使用—jars,比如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/spark-submit --class my.main.Class \</span><br><span class="line">    --master yarn \</span><br><span class="line">    --deploy-mode cluster \</span><br><span class="line">    --jars my-other-jar.jar,my-other-other-jar.jar \</span><br><span class="line">    my-main-jar.jar \</span><br><span class="line">    app_arg1 app_arg2</span><br></pre></td></tr></table></figure></p>
<ul>
<li style="list-style: none"><input type="checkbox"> 上面有什么application master等yarn的概念,需要学会搭建yarn和理解原理</li>
</ul>
<p>进一步有些<strong>配置</strong>的东西就先不看了</p>
<p><a href="http://blog.csdn.net/u010638969/article/details/51283216" target="_blank" rel="noopener">http://blog.csdn.net/u010638969/article/details/51283216</a> 这个是集群搭建,尝试已经成功了,但是要show的东西他没给我show出来</p>
<p><img src="/2017/04/10/cluster overview/yarn_architecture.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/提交spark应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/05/提交spark应用/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-05T22:35:26+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="提交spark应用"><a href="#提交spark应用" class="headerlink" title="提交spark应用"></a>提交spark应用</h1><p>#spark</p>
<p>Launching Applications with spark-submit<br>Once a user application is bundled, it can be launched using the bin/spark-submit script. This script takes care of setting up the classpath with Spark and its dependencies, and can support different cluster managers and deploy modes that Spark supports:</p>
<p>./bin/spark-submit \<br>  –class <main-class> \<br>  –master <master-url> \<br>  –deploy-mode <deploy-mode> \<br>  –conf <key>=<value> \<br>  … # other options<br>  <application-jar> \<br>  [application-arguments]<br>Some of the commonly used options are:</application-jar></value></key></deploy-mode></master-url></main-class></p>
<p>–class: The entry point for your application (e.g. org.apache.spark.examples.SparkPi)<br>–master: The master URL for the cluster (e.g. spark://23.195.26.187:7077)<br>–deploy-mode: Whether to deploy your driver on the worker nodes (cluster) or locally as an external client (client) (default: client) †<br>–conf: Arbitrary Spark configuration property in key=value format. For values that contain spaces wrap “key=value” in quotes (as shown).<br>application-jar: Path to a bundled jar including your application and all dependencies. The URL must be globally visible inside of your cluster, for instance, an hdfs:// path or a file:// path that is present on all nodes.<br>application-arguments: Arguments passed to the main method of your main class, if any</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/05/spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-05T17:07:44+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎<br> <a href="/">首页</a> <a href="/explore">发现</a> <a href="/topic">话题</a></p>
<p>提问<br>登录加入知乎</p>
<p>#spark<br><a href="/topic/19740929">大数据</a><br><a href="/topic/19942170">Spark</a></p>
<h1 id="spark-1-3-0-版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？"><a href="#spark-1-3-0-版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？" class="headerlink" title="spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？"></a>spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？</h1><p>看到一些资料说DataFrame更适合存储结构化数据，那么之前sparkSQL中的SchemaRDD是否会被替换掉呢？两者的特性是什么？显示全部</p>
<p>关注者<br>7</p>
<p>被浏览<br>1015</p>
<p>添加评论分享</p>
<p>邀请回答</p>
<p>关注问题写回答</p>
<p><a href="/question/29451994">查看全部 3 个回答</a></p>
<p><img src="/2017/04/05/spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎/v2-04c679fdc51e1f0c241177e58416f101_xs.jpg" alt=""></p>
<p><a href="/people/zhang-kuan-26-10">张宽</a></p>
<p>Spark SQL</p>
<p>2 人赞同了该回答</p>
<p>spark网站上给出的Upgrading from Spark SQL 1.0-1.2 to 1.3里写着：</p>
<p>Rename of SchemaRDD to DataFrame</p>
<p>The largest change that users will notice when upgrading to Spark SQL 1.3 is that SchemaRDD has been renamed to DataFrame. This is primarily because DataFrames no longer inherit from RDD directly, but instead provide most of the functionality that RDDs provide though their own implementation. DataFrames can still be converted to RDDs by calling the .rdd method.</p>
<p>In Scala there is a type alias from SchemaRDD to DataFrame to provide source compatibility for some use cases. It is still recommended that users update their code to use DataFrame instead. Java and Python users will need to update their code.</p>
<p><a href="https://link.zhihu.com/?target=http%3A//spark.apache.org/docs/latest/sql-programming-guide.html%23rename-of-schemardd-to-dataframe" target="_blank" rel="noopener">Spark SQL and DataFrames</a><br>大概就是说DataFrame不是直接继承RDD的类了。SchemaRDD继承了RDD，本质上应该还是个RDD。DataFrame确实替换了以前SchemaRDD的功能。<br>DataFrame和普通的RDD的逻辑框架区别应该是类似这样的：</p>
<p><img src="/2017/04/05/spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎/2ad7c868bf4ebb062ed6f22344e719fb_b.jpg" alt=""></p>
<p><img src="/2017/04/05/spark 1.3.0 版本中推出的DataFrame是否是以前版本中SchemaRDD的替代者？ - 知乎/whitedot.jpg" alt=""></p>
<p><a href="/question/29451994/answer/52870543">编辑于 2015-06-27</a><br>2添加评论分享</p>
<p>收藏感谢收起</p>
<p><a href="/question/29451994">查看全部 3 个回答</a></p>
<p><a href="http://zhi.hu/appQa" target="_blank" rel="noopener">下载知乎客户端与世界分享知识、经验和见解</a><br><a href="http://zhi.hu/appQa" target="_blank" rel="noopener">下载知乎客户端与世界分享知识、经验和见解</a></p>
<p><a href="https://www.zhihu.com/question/29451994/answer/52870543" target="_blank" rel="noopener"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/使用Spring Boot开发Web项目(二)之添加HTTPS支持/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/24/使用Spring Boot开发Web项目(二)之添加HTTPS支持/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-24T00:58:06+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="使用Spring-Boot开发Web项目-二-之添加HTTPS支持"><a href="#使用Spring-Boot开发Web项目-二-之添加HTTPS支持" class="headerlink" title="使用Spring Boot开发Web项目(二)之添加HTTPS支持"></a>使用Spring Boot开发Web项目(二)之添加HTTPS支持</h1><p>#Java</p>
<p>/发表于/ /2016/12/22 16:11:53/ /2447/ 人阅读</p>
<p>分类： java JavaEE</p>
<p>上篇博客 <a href="http://blog.csdn.net/u012702547/article/details/53784992" target="_blank" rel="noopener">使用Spring Boot开发Web项目</a> 我们简单介绍了使用如何使用Spring Boot创建一个使用了Thymeleaf模板引擎的Web项目，当然这还远远不够。今天我们再来看看如何给我们的Web项目添加https支持。在阅读本篇博客之前，强烈建议先读 <a href="http://blog.csdn.net/u012702547/article/details/53784992" target="_blank" rel="noopener">使用Spring Boot开发Web项目</a> 这篇博客，否则可能会有对Spring Boot不太了解的小伙伴看的云里雾里。</p>
<h2 id="什么是https"><a href="#什么是https" class="headerlink" title="什么是https"></a>什么是https</h2><p>要说https我们得先说SSL(Secure Sockets Layer，安全套接层)，这是一种为网络通信提供安全及数据完整性的一种安全协议，SSL在网络传输层对网络连接进行加密。SSL协议可以分为两层：SSL记录协议（SSL Record Protocol），它建立在可靠的传输协议如TCP之上，为高层协议提供数据封装、压缩、加密等基本功能支持；SSL握手协议（SSL Handshake Protocol），它建立在SSL记录协议之上，用于在实际数据传输开始之前，通信双方进行身份认证、协商加密算法、交换加密密钥等。在Web开发中，我们是通过HTTPS来实现SSL的。HTTPS是以安全为目标的HTTP通道，简单来说就是HTTP的安全版，即在HTTP下加入SSL层，所以说HTTPS的安全基础是SSL，不过这里有一个地方需要小伙伴们注意，就是我们现在市场上使用的都是TLS协议(Transport Layer Security，它来源于SSL)，而不是SSL，只不过由于SSL出现较早并且被各大浏览器支持因此成为了HTTPS的代名词，。你可以把HTTPS和SSL的关系理解成iPhone和富土康的关系，大概就是这样哈。<br>如果HTTPS小伙伴们不太了解，这里给小伙伴们推荐几个关于HTTPS的资料：</p>
<blockquote>
<p>1.<a href="http://www.cnblogs.com/zery/p/5164795.html" target="_blank" rel="noopener">HTTPS 原理解析</a><br>2.<a href="http://www.guokr.com/post/114121/" target="_blank" rel="noopener">HTTPS那些事（一）HTTPS原理</a><br>3.<a href="http://www.cnblogs.com/zhuqil/archive/2012/07/23/2604572.html" target="_blank" rel="noopener">图解HTTPS</a>  </p>
</blockquote>
<h2 id="证书生成"><a href="#证书生成" class="headerlink" title="证书生成"></a>证书生成</h2><p>使用SSL需要我们先生成一个证书，这个证书我们可以自己生成，也可以从SSL证书授权中心获得，自己生成的不被客户端认可，从授权中心获得的可以被客户端认可，提供SSL授权证书的服务商有很多，小伙伴们有兴趣可以自行查找，我这里以自己生成的证书为例。<br>生成方式也很简单，直接使用java自带的命令keytool来生成，生成命令如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -alias tomcat -storetype PKCS12 -keyalg RSA -keysize 2048 -keystore keystore.p12 -validity 3650</span><br></pre></td></tr></table></figure>
<p>这里涉及到几个参数的含义我简单说一下：</p>
<blockquote>
<p>1.-storetype 指定密钥仓库类型 2.-keyalg 生证书的算法名称，RSA是一种非对称加密算法 3.-keysize 证书大小 4.-keystore 生成的证书文件的存储路径  </p>
</blockquote>
<blockquote>
<p>5.-validity 证书的有效期  </p>
</blockquote>
<p>OK，执行完上面一行命令后，在你的系统的当前用户目录下会生成一个keystore.p12文件（如果你修改了证书文件的名称那就是你修改的名字），将这个文件拷贝到我们项目的根目录下，然后修改application.properties文件，添加HTTPS支持。在application.properties中添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server.ssl.key-store=keystore.p12</span><br><span class="line">server.ssl.key-store-password=111111</span><br><span class="line">server.ssl.keyStoreType=PKCS12</span><br><span class="line">server.ssl.keyAlias:tomcat</span><br></pre></td></tr></table></figure>
<p>第一行指定签名文件，第二行指定签名密码，第三行指定密钥仓库类型，第四个是别名。OK，这样配置完成之后我们就可以通过HTTPS来访问我们的Web了，访问结果如下：</p>
<p>当然，这里我在CustomServletContainer类中将默认端口修改为8443了(这个类如果尚不清楚可以参考 <a href="http://blog.csdn.net/u012702547/article/details/53784992" target="_blank" rel="noopener">使用Spring Boot开发Web项目</a> 这篇文章)，当然你用其他的端口也行。</p>
<h2 id="HTTP自动转向HTTPS"><a href="#HTTP自动转向HTTPS" class="headerlink" title="HTTP自动转向HTTPS"></a>HTTP自动转向HTTPS</h2><p>光有HTTPS肯定还不够，很多用户可能并不知道，用户有可能继续使用HTTP来访问你的网站，这个时候我们需要添加HTTP自动转向HTTPS的功能，当用户使用HTTP来进行访问的时候自动转为HTTPS的方式。这个配置很简单，在入口类中添加相应的转向Bean就行了，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span> <span class="function"><span class="keyword">public</span> EmbeddedServletContainerFactory <span class="title">servletContainer</span><span class="params">()</span> </span>&#123; TomcatEmbeddedServletContainerFactory tomcat = <span class="keyword">new</span> TomcatEmbeddedServletContainerFactory() &#123; <span class="meta">@Override</span> <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">postProcessContext</span><span class="params">(Context context)</span> </span>&#123; SecurityConstraint constraint = <span class="keyword">new</span> SecurityConstraint(); constraint.setUserConstraint(<span class="string">"CONFIDENTIAL"</span>); SecurityCollection collection = <span class="keyword">new</span> SecurityCollection(); collection.addPattern(<span class="string">"/*"</span>); constraint.addCollection(collection); context.addConstraint(constraint); &#125; &#125;; tomcat.addAdditionalTomcatConnectors(httpConnector()); <span class="keyword">return</span> tomcat; &#125; <span class="meta">@Bean</span> <span class="function"><span class="keyword">public</span> Connector <span class="title">httpConnector</span><span class="params">()</span> </span>&#123; Connector connector = <span class="keyword">new</span> Connector(<span class="string">"org.apache.coyote.http11.Http11NioProtocol"</span>); connector.setScheme(<span class="string">"http"</span>); connector.setPort(<span class="number">8080</span>); connector.setSecure(<span class="keyword">false</span>); connector.setRedirectPort(<span class="number">8443</span>); <span class="keyword">return</span> connector; &#125;</span><br></pre></td></tr></table></figure>
<p>这个时候当我们访问 <code>http://localhost:8080</code> 的时候系统会自动重定向到 <code>https://localhost:8443</code> 这个地址上。这里的Connector实际就是我们刚刚接触jsp时在xml中配置的Tomcat的Connector节点。当然这里能够设置的属性还有很多，具体可以参考这篇博客 <a href="http://blog.chinaunix.net/uid-200142-id-4381742.html" target="_blank" rel="noopener">Tomcat中的Connector配置</a> 。</p>
<p>案例下载：<br><a href="https://github.com/lenve/JavaEETest/tree/master/Test20-Thymeleaf1" target="_blank" rel="noopener">本篇博客GitHub地址</a></p>
<p>以上。</p>
<p>参考资料：</p>
<blockquote>
<p>1.《JavaEE开发的颠覆者 Spring Boot实战》第七章<br>2.<a href="http://blog.csdn.net/RO_wsy/article/details/51319963" target="_blank" rel="noopener">Spring Boot中启动HTTPS</a>  </p>
</blockquote>
<p>// /4/ // /2/ </p>
<p>spring,github,java ee,java,rsa,web,web开发,模板引擎,浏览器</p>
<h3 id="我的热门文章"><a href="#我的热门文章" class="headerlink" title="我的热门文章"></a>我的热门文章</h3><h3 id="相关博文"><a href="#相关博文" class="headerlink" title="相关博文"></a>相关博文</h3><p><a href="http://m.blog.csdn.net/article/details?id=53790722" target="_blank" rel="noopener">使用Spring Boot开发Web项目(二)之添加HTTPS支持</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/JAVA回调机制(CallBack)详解 - Bro超 - 博客园                  Bro超/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/22/JAVA回调机制(CallBack)详解 - Bro超 - 博客园                  Bro超/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T23:46:42+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JAVA回调机制(CallBack)详解 - Bro__超 - 博客园                  <a href="http://www.cnblogs.com/heshuchao/" target="_blank" rel="noopener">Bro__超</a> </p>
<p>#Java</p>
<h2 id="JAVA回调机制-CallBack-详解"><a href="#JAVA回调机制-CallBack-详解" class="headerlink" title="JAVA回调机制(CallBack)详解"></a><a href="http://www.cnblogs.com/heshuchao/p/5376298.html" target="_blank" rel="noopener">JAVA回调机制(CallBack)详解</a></h2><p><em>序言</em><br>k<br>最近学习java，接触到了回调机制(CallBack)。初识时感觉比较混乱，而且在网上搜索到的相关的讲解，要么一言带过，要么说的比较单纯的像是给CallBack做了一个定义。当然了，我在理解了回调之后，再去看网上的各种讲解，确实没什么问题。但是，对于初学的我来说，缺了一个循序渐进的过程。此处，将我对回调机制的个人理解，按照由浅到深的顺序描述一下，如有不妥之处，望不吝赐教！</p>
<p>开始之前，先想象一个场景：幼稚园的小朋友刚刚学习了10以内的加法。</p>
<p><em>第1章. 故事的缘起</em></p>
<p>幼师在黑板上写一个式子 “1 + 1 = ”，由小明同学来填空。</p>
<p>由于已经学习了10以内的加法，小明同学可以完全靠自己来计算这个题目，模拟该过程的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"> 2 </span>&#123;</span><br><span class="line"> <span class="number">3</span>     <span class="keyword">private</span> String name = <span class="keyword">null</span>;</span><br><span class="line"> <span class="number">4</span> </span><br><span class="line"> <span class="number">5</span>     <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function"> 6     </span>&#123;</span><br><span class="line"> <span class="number">7</span>         <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line"> <span class="number">8</span>         <span class="keyword">this</span>.name = name;</span><br><span class="line"> <span class="number">9</span>     &#125;</span><br><span class="line"><span class="number">10</span>     </span><br><span class="line"><span class="number">11</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">12     </span>&#123;</span><br><span class="line"><span class="number">13</span>         <span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="number">14</span>     &#125;</span><br><span class="line"><span class="number">15</span>     </span><br><span class="line"><span class="number">16</span>     <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">calcADD</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">17     </span>&#123;</span><br><span class="line"><span class="number">18</span>         <span class="keyword">return</span> a + b;</span><br><span class="line"><span class="number">19</span>     &#125;</span><br><span class="line"><span class="number">20</span>     </span><br><span class="line"><span class="number">21</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fillBlank</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">22     </span>&#123;</span><br><span class="line"><span class="number">23</span>         <span class="keyword">int</span> result = calcADD(a, b);</span><br><span class="line"><span class="number">24</span>         System.out.println(name + <span class="string">"心算:"</span> + a + <span class="string">" + "</span> + b + <span class="string">" = "</span> + result);</span><br><span class="line"><span class="number">25</span>     &#125;</span><br><span class="line"><span class="number">26</span> &#125;</span><br></pre></td></tr></table></figure>
<p>小明同学在填空(fillBalnk)的时候，直接心算(clacADD)了一下，得出结果是2，并将结果写在空格里。测试代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1 public class Test</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     public static void main(String[] args)</span><br><span class="line"> 4     &#123;</span><br><span class="line"> 5         int a = 1;</span><br><span class="line"> 6         int b = 1;</span><br><span class="line"> 7         Student s = new Student(&quot;小明&quot;);</span><br><span class="line"> 8         s.fillBlank(a, b);</span><br><span class="line"> 9     &#125;</span><br><span class="line">10 &#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">小明心算:1 + 1 = 2</span><br></pre></td></tr></table></figure>
<p>该过程完全由Student类的实例对象单独完成，并未涉及回调机制。</p>
<p><em>第2章. 幼师的找茬</em></p>
<p>课间，幼师突发奇想在黑板上写了“168 + 291 = ”让小明完成，然后回办公室了。</p>
<p>花擦！为什么所有老师都跟小明过不去啊？明明超纲了好不好！这时候小明同学明显不能再像上面那样靠心算来完成了，正在懵逼的时候，班上的小红同学递过来一个只能计算加法的计算器（奸商啊）！！！！而小明同学恰好知道怎么用计算器，于是通过计算器计算得到结果并完成了填空。</p>
<p>计算器的代码为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1 public class Calculator</span><br><span class="line">2 &#123;</span><br><span class="line">3     public int add(int a, int b)</span><br><span class="line">4     &#123;</span><br><span class="line">5         return a + b;</span><br><span class="line">6     &#125;</span><br><span class="line">7 &#125;</span><br></pre></td></tr></table></figure>
<p>修改Student类，添加使用计算器的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1 public class Student</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     private String name = null;</span><br><span class="line"> 4 </span><br><span class="line"> 5     public Student(String name)</span><br><span class="line"> 6     &#123;</span><br><span class="line"> 7         // TODO Auto-generated constructor stub</span><br><span class="line"> 8         this.name = name;</span><br><span class="line"> 9     &#125;</span><br><span class="line">10     </span><br><span class="line">11     public void setName(String name)</span><br><span class="line">12     &#123;</span><br><span class="line">13         this.name = name;</span><br><span class="line">14     &#125;</span><br><span class="line">15     </span><br><span class="line">16     @SuppressWarnings(&quot;unused&quot;)</span><br><span class="line">17     private int calcADD(int a, int b)</span><br><span class="line">18     &#123;</span><br><span class="line">19         return a + b;</span><br><span class="line">20     &#125;</span><br><span class="line">21     </span><br><span class="line">22     private int useCalculator(int a, int b)</span><br><span class="line">23     &#123;</span><br><span class="line">24         return new Calculator().add(a, b);</span><br><span class="line">25     &#125;</span><br><span class="line">26     </span><br><span class="line">27     public void fillBlank(int a, int b)</span><br><span class="line">28     &#123;</span><br><span class="line">29         int result = useCalculator(a, b);</span><br><span class="line">30         System.out.println(name + &quot;使用计算器:&quot; + a + &quot; + &quot; + b + &quot; = &quot; + result);</span><br><span class="line">31     &#125;</span><br><span class="line">32 &#125;</span><br></pre></td></tr></table></figure>
<p>测试代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1 public class Test</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     public static void main(String[] args)</span><br><span class="line"> 4     &#123;</span><br><span class="line"> 5         int a = 168;</span><br><span class="line"> 6         int b = 291;</span><br><span class="line"> 7         Student s = new Student(&quot;小明&quot;);</span><br><span class="line"> 8         s.fillBlank(a, b);</span><br><span class="line"> 9     &#125;</span><br><span class="line">10 &#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">小明使用计算器:168 + 291 = 459</span><br></pre></td></tr></table></figure>
<p>该过程中仍未涉及到回调机制，但是部分小明的部分工作已经实现了转移，由计算器来协助实现。</p>
<p><em>3. 幼师回来了</em></p>
<p>发现小明完成了3位数的加法，老师觉得小明很聪明，是个可塑之才。于是又在黑板上写下了“26549 + 16487 = ”，让小明上课之前完成填空，然后又回办公室了。</p>
<p>小明看着教室外面撒欢儿的小伙伴，不禁悲从中来。再不出去玩，这个课间就要废了啊！！！！ 看着小红再一次递上来的计算器，小明心生一计：让小红代劳。</p>
<p>小明告诉小红题目是“26549 + 16487 = ”，然后指出填写结果的具体位置，然后就出去快乐的玩耍了。</p>
<p>这里，不把小红单独实现出来，而是把这个只能算加法的计算器和小红看成一个整体，一个会算结果还会填空的超级计算器。这个超级计算器需要传的参数是两个加数和要填空的位置，而这些内容需要小明提前告知，也就是小明要把自己的一部分方法暴漏给小红，最简单的方法就是把自己的引用和两个加数一块告诉小红。</p>
<p>因此，超级计算器的add方法应该包含两个操作数和小明自身的引用，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 public class SuperCalculator</span><br><span class="line">2 &#123;</span><br><span class="line">3     public void add(int a, int b, Student  xiaoming)</span><br><span class="line">4     &#123;</span><br><span class="line">5         int result = a + b;</span><br><span class="line">6         xiaoming.fillBlank(a, b, result);</span><br><span class="line">7     &#125;</span><br><span class="line">8 &#125;</span><br></pre></td></tr></table></figure>
<p>小明这边现在已经不需要心算，也不需要使用计算器了，因此只需要有一个方法可以向小红寻求帮助就行了，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1 public class Student</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     private String name = null;</span><br><span class="line"> 4 </span><br><span class="line"> 5     public Student(String name)</span><br><span class="line"> 6     &#123;</span><br><span class="line"> 7         // TODO Auto-generated constructor stub</span><br><span class="line"> 8         this.name = name;</span><br><span class="line"> 9     &#125;</span><br><span class="line">10     </span><br><span class="line">11     public void setName(String name)</span><br><span class="line">12     &#123;</span><br><span class="line">13         this.name = name;</span><br><span class="line">14     &#125;</span><br><span class="line">15     </span><br><span class="line">16     public void callHelp (int a, int b)</span><br><span class="line">17     &#123;</span><br><span class="line">18         new SuperCalculator().add(a, b, this);</span><br><span class="line">19     &#125;</span><br><span class="line">20     </span><br><span class="line">21     public void fillBlank(int a, int b, int result)</span><br><span class="line">22     &#123;</span><br><span class="line">23         System.out.println(name + &quot;求助小红计算:&quot; + a + &quot; + &quot; + b + &quot; = &quot; + result);</span><br><span class="line">24     &#125;</span><br><span class="line">25 &#125;</span><br></pre></td></tr></table></figure>
<p>测试代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1 public class Test</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     public static void main(String[] args)</span><br><span class="line"> 4     &#123;</span><br><span class="line"> 5         int a = 26549;</span><br><span class="line"> 6         int b = 16487;</span><br><span class="line"> 7         Student s = new Student(&quot;小明&quot;);</span><br><span class="line"> 8         s.callHelp(a, b);</span><br><span class="line"> 9     &#125;</span><br><span class="line">10 &#125;</span><br></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">小明求助小红计算:26549 + 16487 = 43036</span><br></pre></td></tr></table></figure>
<p>执行流程为：小明通过自身的callHelp方法调用了小红（new SuperCalculator()）的add方法，在调用的时候将自身的引用（this）当做参数一并传入，小红在使用计算器得出结果之后，回调了小明的fillBlank方法，将结果填在了黑板上的空格里。</p>
<p>灯灯灯！到这里，回调功能就正式登场了，小明的fillBlank方法就是我们常说的回调函数。</p>
<p>通过这种方式，可以很明显的看出，对于完成老师的填空题这个任务上，小明已经不需要等待到加法做完且结果填写在黑板上才能去跟小伙伴们撒欢了，填空这个工作由超级计算器小红来做了。回调的优势已经开始体现了。</p>
<p><em>第4章. 门口的婆婆</em></p>
<p>幼稚园的门口有一个头发花白的老婆婆，每天风雨无阻在那里摆着地摊卖一些快过期的垃圾食品。由于年纪大了，脑子有些糊涂，经常算不清楚自己挣了多少钱。有一天，她无意间听到了小明跟小伙伴们吹嘘自己如何在小红的帮助下与幼师斗智斗勇。于是，婆婆决定找到小红牌超级计算器来做自己的小帮手，并提供一包卫龙辣条作为报酬。小红经不住诱惑，答应了。</p>
<p>回看一下上一章的代码，我们发现小红牌超级计算器的add方法需要的参数是两个整型变量和一个Student对象，但是老婆婆她不是学生，是个小商贩啊，这里肯定要做修改。这种情况下，我们很自然的会想到继承和多态。如果让小明这个学生和老婆婆这个小商贩从一个父类进行继承，那么我们只需要给小红牌超级计算器传入一个父类的引用就可以啦。</p>
<p>不过，实际使用中，考虑到java的单继承，以及不希望把自身太多东西暴漏给别人，这里使用从接口继承的方式配合内部类来做。</p>
<p>换句话说，小红希望以后继续向班里的小朋友们提供计算服务，同时还能向老婆婆提供算账服务，甚至以后能够拓展其他人的业务，于是她向所有的顾客约定了一个办法，用于统一的处理，也就是自己需要的操作数和做完计算之后应该怎么做。这个统一的方法，小红做成了一个接口，提供给了大家，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 public interface doJob</span><br><span class="line">2 &#123;</span><br><span class="line">3     public void fillBlank(int a, int b, int result);</span><br><span class="line">4 &#125;</span><br></pre></td></tr></table></figure>
<p>因为灵感来自帮小明填空，因此小红保留了初心，把所有业务都当做填空（fillBlank）来做。</p>
<p>同时，小红修改了自己的计算器，使其可以同时处理不同的实现了doJob接口的人，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 public class SuperCalculator</span><br><span class="line">2 &#123;</span><br><span class="line">3     public void add(int a, int b, doJob  customer)</span><br><span class="line">4     &#123;</span><br><span class="line">5         int result = a + b;</span><br><span class="line">6         customer.fillBlank(a, b, result);</span><br><span class="line">7     &#125;</span><br><span class="line">8 &#125;</span><br></pre></td></tr></table></figure>
<p>小明和老婆婆拿到这个接口之后，只要实现了这个接口，就相当于按照统一的模式告诉小红得到结果之后的处理办法，按照之前说的使用内部类来做，代码如下：</p>
<p>小明的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1 public class Student</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     private String name = null;</span><br><span class="line"> 4 </span><br><span class="line"> 5     public Student(String name)</span><br><span class="line"> 6     &#123;</span><br><span class="line"> 7         // TODO Auto-generated constructor stub</span><br><span class="line"> 8         this.name = name;</span><br><span class="line"> 9     &#125;</span><br><span class="line">10     </span><br><span class="line">11     public void setName(String name)</span><br><span class="line">12     &#123;</span><br><span class="line">13         this.name = name;</span><br><span class="line">14     &#125;</span><br><span class="line">15     </span><br><span class="line">16     public class doHomeWork implements doJob</span><br><span class="line">17     &#123;</span><br><span class="line">18 </span><br><span class="line">19         @Override</span><br><span class="line">20         public void fillBlank(int a, int b, int result)</span><br><span class="line">21         &#123;</span><br><span class="line">22             // TODO Auto-generated method stub</span><br><span class="line">23             System.out.println(name + &quot;求助小红计算:&quot; + a + &quot; + &quot; + b + &quot; = &quot; + result);</span><br><span class="line">24         &#125;</span><br><span class="line">25         </span><br><span class="line">26     &#125;</span><br><span class="line">27     </span><br><span class="line">28     public void callHelp (int a, int b)</span><br><span class="line">29     &#123;</span><br><span class="line">30         new SuperCalculator().add(a, b, new doHomeWork());</span><br><span class="line">31     &#125;</span><br><span class="line">32 &#125;</span><br></pre></td></tr></table></figure>
<p>老婆婆的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1 public class Seller</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     private String name = null;</span><br><span class="line"> 4 </span><br><span class="line"> 5     public Seller(String name)</span><br><span class="line"> 6     &#123;</span><br><span class="line"> 7         // TODO Auto-generated constructor stub</span><br><span class="line"> 8         this.name = name;</span><br><span class="line"> 9     &#125;</span><br><span class="line">10     </span><br><span class="line">11     public void setName(String name)</span><br><span class="line">12     &#123;</span><br><span class="line">13         this.name = name;</span><br><span class="line">14     &#125;</span><br><span class="line">15     </span><br><span class="line">16     public class doHomeWork implements doJob</span><br><span class="line">17     &#123;</span><br><span class="line">18 </span><br><span class="line">19         @Override</span><br><span class="line">20         public void fillBlank(int a, int b, int result)</span><br><span class="line">21         &#123;</span><br><span class="line">22             // TODO Auto-generated method stub</span><br><span class="line">23             System.out.println(name + &quot;求助小红算账:&quot; + a + &quot; + &quot; + b + &quot; = &quot; + result + &quot;元&quot;);</span><br><span class="line">24         &#125;</span><br><span class="line">25         </span><br><span class="line">26     &#125;</span><br><span class="line">27     </span><br><span class="line">28     public void callHelp (int a, int b)</span><br><span class="line">29     &#123;</span><br><span class="line">30         new SuperCalculator().add(a, b, new doHomeWork());</span><br><span class="line">31     &#125;</span><br><span class="line">32 &#125;</span><br></pre></td></tr></table></figure>
<p>测试程序如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1 public class Test</span><br><span class="line"> 2 &#123;</span><br><span class="line"> 3     public static void main(String[] args)</span><br><span class="line"> 4     &#123;</span><br><span class="line"> 5         int a = 56;</span><br><span class="line"> 6         int b = 31;</span><br><span class="line"> 7         int c = 26497;</span><br><span class="line"> 8         int d = 11256;</span><br><span class="line"> 9         Student s1 = new Student(&quot;小明&quot;);</span><br><span class="line">10         Seller s2 = new Seller(&quot;老婆婆&quot;);</span><br><span class="line">11         </span><br><span class="line">12         s1.callHelp(a, b);</span><br><span class="line">13         s2.callHelp(c, d);</span><br><span class="line">14     &#125;</span><br><span class="line">15 &#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">小明求助小红计算:56 + 31 = 87</span><br><span class="line">老婆婆求助小红算账:26497 + 11256 = 37753元</span><br></pre></td></tr></table></figure>
<p><em>最后的话</em></p>
<p>可以很明显的看到，小红已经把这件事情当做一个事业来做了，看她给接口命的名字doJob就知道了。</p>
<p>有人也许会问，为什么老婆婆摆摊能挣那么多钱？ 你的关注点有问题好吗！！这里聊的是回调机制啊！！</p>
<p>我只知道，后来小红的业务不断扩大，终于在幼稚园毕业之前，用挣到的钱买了人生的第一套房子。</p>
<p>完！！！</p>
<p>posted on 2016-04-10 22:25 <a href="http://www.cnblogs.com/heshuchao/" target="_blank" rel="noopener">Bro__超</a> 阅读(…) 评论(…) <a href="">编辑</a> <a href="\#">收藏</a> </p>
<p><a href="javascript:void(0" target="_blank" rel="noopener">刷新评论</a>;) <a href="\#">刷新页面</a> <a href="\#top">返回顶部</a></p>
<p>Powered by:<br><a href="http://www.cnblogs.com/" target="_blank" rel="noopener">博客园</a><br>Copyright © Bro__超</p>
<h3 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h3><ul>
<li><a href="http://www.cnblogs.com/" target="_blank" rel="noopener">博客园</a></li>
<li><a href="http://www.cnblogs.com/heshuchao/" target="_blank" rel="noopener">首页</a></li>
<li><a href="https://i.cnblogs.com/EditPosts.aspx?opt=1" target="_blank" rel="noopener">新随笔</a></li>
<li><a href="https://msg.cnblogs.com/send/Bro__%E8%B6%85" target="_blank" rel="noopener">联系</a></li>
<li><p><a href="http://www.cnblogs.com/heshuchao/rss" target="_blank" rel="noopener">订阅</a></p>
</li>
<li><p><a href="https://i.cnblogs.com/" target="_blank" rel="noopener">管理</a></p>
<h3 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h3></li>
<li><p>随笔 - 3</p>
</li>
<li><p>文章 - 0</p>
</li>
<li><p>评论 - 89</p>
</li>
<li><p>引用 - 0</p>
</li>
</ul>
<h3 id="公告"><a href="#公告" class="headerlink" title="公告"></a>公告</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/07/#Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/07/#Java/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-07T00:12:21+08:00">
                2017-03-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#Java<br><a href="http://www.imooc.com/article/3591" target="_blank" rel="noopener">65条最常用正则表达式,你要的都在这里了_慕课手记</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/02/第二章/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PW">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PW's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/02/第二章/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-02T15:01:52+08:00">
                2017-03-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><p>#分布式</p>
<p>#分布式JAVA应用<br>系统复杂之后,系统之间可能存在多种交互方式,我们需要统一交互方式,这是SOA的初衷</p>
<ul>
<li>统一的交互方式</li>
<li>跟踪/调试的支持</li>
<li>依赖管理(服务间的refrence依赖)</li>
<li>高性能/高可用</li>
</ul>
<p>SCA是一个SOA标准,定义了<strong>发布服务</strong>,<strong>调用服务</strong>和与现有系统无缝集成的支持,提供WebService,JMS等通信形式(服务发布方式),交互方式上没定义(同步异步等),跟踪调试未定义,依赖管理和高可用高性能也没有做出明确规定</p>
<p>ESB基于消息中间件进行系统间交互,中间件称为总线Bus,消息交互采取统一的数据格式,由总线完成消息转化,路由等.系统的消息都发给总线.ESB框架五个要素是</p>
<ul>
<li>标准的消息通信格式(比如IP数据包的格式这种)</li>
<li>消息路由,最好还能流程编排,比如一个功能要访问多个系统,后一步要看前一步结果这样,一个处理流程,使用消息路由来实现就很好</li>
<li>多种消息交互类型,比如发布订阅/请求响应</li>
<li>支持多种网络协议以应对要和多个系统的交互</li>
<li>支持各种数据格式并能转换<br><img src="/2017/03/02/第二章/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-03-02%2016.08.55.png" alt=""></li>
</ul>
<p>实现以上两种模型的具体框架一般支持更多服务发布方式,更多通信形式,比如WebService,Ajax等等;更多调用服务方式,包括对更多种语言的支持;交互方式上可实现异步/同步调用;调试跟踪的话可以实现服务治理平台,服务的信息注册上去,以便服务查询,依赖分析等;高性能高可用一般没做处理.</p>
<p>要更完善的SOA平台,还需要</p>
<ul>
<li>更好地支撑集群环境,让服务交互和集群环境结合的更好,比如负载均衡,路由策略等.</li>
<li>完善的服务治理</li>
<li>QoS</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">PW</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">69</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PW</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
